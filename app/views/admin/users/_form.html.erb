<div class="wrapper ">   
    <%= render 'layouts/sidebar' %>
    <div class="content">       
        <%= render 'layouts/navbar' %>        
        <%= render 'layouts/flash_messages' %>
        <%= form_for(@user, html: { class: 'directUpload', data: { 'form-data' => (@s3_direct_post.fields), 'url' => @s3_direct_post.url, 'host' => URI.parse(@s3_direct_post.url).host } }) do |f| %>
            <% if @user.errors.any? %>
                <div id="error_explanation">
                    <ul>
                        <% @user.errors.full_messages.each do |message| %>
                        <li><%= message %></li>
                        <% end %>
                    </ul>
                </div>
            <% end %>
            <div class="row">
                <div class="col-md-8" style="margin: auto">
                    <div class="card card-user">
                        <div class="card-header">
                            <h5 class="card-title">Usuário</h5>
                        </div>
                        <div class="card-body">
                            <form>
                                <div class="form-row">
                                    <div class="form-group col-md-6 required-field">
                                        <label class="active">Nome</label>
                                        <%= f.text_field :name, required:true, class:"form-control", placeholder: ""%>
                                    </div>
                                    <div class="form-group col-md-6 required-field">
                                        <label class="active">Email</label>
                                        <%= f.text_field :email, :required => true, class:"form-control", placeholder: "" %>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6 required-field">
                                        <label>Data de Nascimento</label>
                                        <%= f.text_field :date_of_birth, required:true, class:"form-control datepicker", placeholder: ""%>
                                    </div>
                                    <div class="col-md-6" id="file_upload">
                                        <label class="active">Imagem de Perfil</label>
                                        <%= f.file_field :avatar, id: :user_file_url,  accept:"image/png,image/jpeg", style:'font-size: 70%;'%>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6 required-field">
                                        <label class="active">Senha</label>
                                        <%= f.password_field :password, :required => true, class:"form-control", placeholder: ""%>
                                    </div>
                                    <div class="form-group col-md-6 required-field">
                                        <label class="active">Confirmar Senha</label>
                                        <%= f.password_field :password_confirmation, :required => true, class:"form-control", placeholder: "" %>
                                    </div>
                                </div>

                                <div class="form-group col-md-6 required-field">
                                    <label class="active">Status</label>
                                    <%= f.select :state, user_states, value: @user.state, :required => true, class:"form-control", placeholder: "" %>
                                </div>
                                
                                <nav class="navbar navbar-light navbar_hr">
                                    <span class="navbar-text text_hr">
                                       ENDEREÇO PARA USUÁRIO
                                    </span>
                                </nav>

                                <%= fields_for :address do |u| %>
                                    <div class="form-row">
                                        <div class="form-group col-md-6 required-field">
                                            <label>Endereço</label>
                                            <%= u.text_field :address, :required => true, class:"form-control", placeholder: ""%>
                                        </div>
                                        <div class="form-group col-md-3 required-field">
                                            <label>Número</label>
                                            <%= u.text_field :address_number, :required => true, class:"form-control", placeholder: "" %>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label>Complemento</label>
                                            <%= u.text_field :extra_info, class:"form-control", placeholder: "" %>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-md-6 required-field">
                                            <label>Bairro</label>
                                            <%= u.text_field :neighborhood, :required => true, class:"form-control", placeholder: ""%>
                                        </div>
                                        <div class="form-group col-md-6 required-field">
                                            <label>cep</label>
                                            <%= u.text_field :cep, :required => true, class:"form-control", placeholder: "" %>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-md-4 required-field">
                                            <label>Estado</label>
                                            <%= u.text_field :address_state, :required => true, class:"form-control", placeholder: "" %>
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label>Cidade</label>
                                            <%= u.text_field :address_city, class:"form-control", placeholder: "" %>
                                        </div>
                                    </div>
                                <% end %>

                                <div class="form-row">
                                    <div class="input-field update ml-auto mr-auto">
                                        <%= f.button :submit, class:"btn btn-primary btn-round" do %>
                                        <i class="fas fa-globe-americas"></i> Criar/Atualizar
                                        <% end %>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                <% end %>
            </div>
        </div>
    </div>
</div>

